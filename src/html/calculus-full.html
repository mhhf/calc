<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LLog - Calculus Specification</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
  <style>
    :root {
      --bg: #fff;
      --fg: #222;
      --accent: #4a5568;
      --border: #e2e8f0;
      --rule-line: #2d3748;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #1a202c;
        --fg: #e2e8f0;
        --accent: #a0aec0;
        --border: #4a5568;
        --rule-line: #e2e8f0;
      }
    }

    * { box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 900px;
      margin: 0 auto;
      padding: 2rem;
      background: var(--bg);
      color: var(--fg);
      line-height: 1.6;
    }

    h1 {
      border-bottom: 2px solid var(--border);
      padding-bottom: 0.5rem;
    }

    h2 {
      color: var(--accent);
      margin-top: 2rem;
    }

    h3 {
      color: var(--accent);
      font-size: 1rem;
      margin-bottom: 1rem;
    }

    code {
      background: var(--border);
      padding: 0.1em 0.3em;
      border-radius: 3px;
      font-size: 0.9em;
    }

    table {
      border-collapse: collapse;
      width: 100%;
      margin: 1rem 0;
    }

    th, td {
      border: 1px solid var(--border);
      padding: 0.5rem 1rem;
      text-align: left;
    }

    th {
      background: var(--border);
    }

    .syntax-rule {
      font-family: monospace;
      margin: 0.5rem 0;
      padding: 0.5rem;
      background: var(--border);
      border-radius: 4px;
    }

    .type-name {
      font-weight: bold;
      color: var(--accent);
    }

    .rules-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 2.5rem 3rem;
      margin: 1rem 0;
    }

    .inference-rule {
      display: inline-flex;
      flex-direction: column;
      align-items: center;
      padding: 0.5rem;
    }

    .rule-premises {
      display: flex;
      gap: 2rem;
      padding-bottom: 0.25rem;
      min-height: 1.2em;
    }

    .rule-body {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      width: 100%;
    }

    .rule-line {
      flex: 1;
      border-top: 1.5px solid var(--rule-line);
      min-width: 2rem;
    }

    .rule-name {
      font-size: 0.85em;
      color: var(--accent);
      white-space: nowrap;
      padding-left: 0.3rem;
    }

    .rule-conclusion {
      padding-top: 0.25rem;
    }

    .rule-formula {
      white-space: nowrap;
    }

    .no-premise {
      min-width: 1rem;
    }

    .rule-category {
      margin-bottom: 2rem;
    }

    @media print {
      body { max-width: none; }
      .rule-category { break-inside: avoid; }
    }

    .subtitle {
      color: var(--accent);
      margin-top: -1rem;
    }
  </style>
</head>
<body>
  <h1>LLog</h1>
  <p class="subtitle">Full Specification</p>

  <section id="metavariables">
<h2>Metavariables</h2>
<table class="meta-table">
<tr><th>ASCII</th><th>Display</th><th>Meaning</th></tr>
<tr><td><code>?X, ?Y, ?Z</code></td><td class="latex-cell" data-latex="\Gamma, \Delta, \Sigma"></td><td>Structure metavariables</td></tr>
<tr><td><code>F?A, F?B, F?C</code></td><td class="latex-cell" data-latex="A, B, C"></td><td>Formula metavariables</td></tr>
<tr><td><code>A?A, A?B</code></td><td class="latex-cell" data-latex="p, q"></td><td>Atomic proposition metavariables</td></tr>
<tr><td><code>--</code></td><td class="latex-cell" data-latex="\cdot"></td><td>Anonymous term</td></tr>
<tr><td><code>[A]</code></td><td class="latex-cell" data-latex="[A]"></td><td>Focused formula</td></tr>
</table>
</section>

  <section id="connectives">
<h2>Connectives</h2>
<table class="connectives-table">
<tr><th>Name</th><th>ASCII</th><th>LaTeX</th><th>Polarity</th></tr>
<tr><td><code>Bang</code></td><td><code>! _ </code></td><td class="latex-cell" data-latex="! _ "></td><td>positive</td></tr>
<tr><td><code>Tensor</code></td><td><code>_ * _</code></td><td class="latex-cell" data-latex="_ \otimes _"></td><td>positive</td></tr>
<tr><td><code>Loli</code></td><td><code>_ -o _</code></td><td class="latex-cell" data-latex="_ \multimap _"></td><td>negative</td></tr>
<tr><td><code>With</code></td><td><code>_ & _</code></td><td class="latex-cell" data-latex="_ \& _"></td><td>negative</td></tr>
<tr><td><code>Monad</code></td><td><code>{ _ }</code></td><td class="latex-cell" data-latex="{ _ }"></td><td>-</td></tr>
<tr><td><code>Lax</code></td><td><code>_ lax</code></td><td class="latex-cell" data-latex="_ lax"></td><td>positive</td></tr>
<tr><td><code>Forall</code></td><td><code>forall _ : _ . _</code></td><td class="latex-cell" data-latex="\forall _ : _ . _"></td><td>negative</td></tr>
</table>
</section>

  <section id="rules">
<h2>Inference Rules</h2>
<div class="rule-category">
<h3>Axioms</h3>
<div class="rules-grid">
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex=""></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{Id}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\cdot\,{:} p \vdash \cdot\,{:} p"></span>
</div>
</div>
</div>
</div>
<div class="rule-category">
<h3>Cut rule</h3>
<div class="rules-grid">
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash \cdot\,{:} A"></span>
<span class="rule-formula" data-latex="\Sigma , \cdot\,{:} A \vdash \Delta"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{Cut}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma , \Sigma \vdash \Delta"></span>
</div>
</div>
</div>
</div>
<div class="rule-category">
<h3>Structural rules</h3>
<div class="rules-grid">
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="( ? X1 , ? Y1 ), ? X2 , ? Y2 \vdash \Sigma"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{PL}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="( ? X1 , ? X2 ), ? Y1 , ? Y2 \vdash \Sigma"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Sigma \vdash ( ? Y1 , ? X1 ), ? Y2 , ? X2"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{PR}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Sigma \vdash ( ? Y1 , ? Y2 ), ? X1 , ? X2"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash ( ? Y1 , ? Y2 ), ? Y3"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{AR}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma \vdash ? Y1 , ? Y2 , ? Y3"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash ? Y1 , ? Y2 , ? Y3"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{AR}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma \vdash ( ? Y1 , ? Y2 ), ? Y3"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="( ? Y1 , ? Y2 ), ? Y3 \vdash \Gamma"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{AL}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="? Y1 , ? Y2 , ? Y3 \vdash \Gamma"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="? Y1 , ? Y2 , ? Y3 \vdash \Gamma"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{AL}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="( ? Y1 , ? Y2 ), ? Y3 \vdash \Gamma"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\cdot , \Gamma \vdash \Delta"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{IL_{L}}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma \vdash \Delta"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash \Delta"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{IL_{L}}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\cdot , \Gamma \vdash \Delta"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma , \cdot \vdash \Delta"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{IL_{R}}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma \vdash \Delta"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash \Delta"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{IL_{R}}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma , \cdot \vdash \Delta"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash \cdot , \Delta"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{IR_{L}}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma \vdash \Delta"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash \Delta"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{IR_{L}}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma \vdash \cdot , \Delta"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash \Delta , \cdot"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{IR_{R}}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma \vdash \Delta"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash \Delta"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\textsf{IR_{R}}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma \vdash \Delta , \cdot"></span>
</div>
</div>
</div>
</div>
<div class="rule-category">
<h3>Unary Rules</h3>
<div class="rules-grid">
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma , \cdot\,{:} A , \cdot\,{:} B \vdash \cdot\,{:} C"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\otimes_{L}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma , \cdot\,{:} A \otimes B \vdash \cdot\,{:} C"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma , \cdot\,{:} A \vdash \cdot\,{:} B"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\multimap_{R}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma \vdash \cdot\,{:} A \multimap B"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma , \cdot\,{:} [ A ] \vdash \cdot\,{:} C"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\&_{L1}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma , \cdot\,{:} [ A \& B ] \vdash \cdot\,{:} C"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma , \cdot\,{:} [ B ] \vdash \cdot\,{:} C"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\&_{L2}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma , \cdot\,{:} [ A \& B ] \vdash \cdot\,{:} C"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash \cdot\,{:} A lax"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\{\}_{R}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma \vdash \cdot\,{:} { A }"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\cdot \vdash \cdot\,{:} A"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="!_{R}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\cdot \vdash \cdot\,{:} [ ! A ]"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash \cdot\,{:} B"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="!_{R}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma , \cdot\,{:} ! A \vdash \cdot\,{:} B"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma , \cdot\,{:} [ C ] \vdash \cdot\,{:} D"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\forall_{L}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma , \cdot\,{:} [ \forall( ?_{AT} A ) : q . C ] \vdash \cdot\,{:} D"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash \cdot\,{:} C"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\forall_{R}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma \vdash \cdot\,{:} \forall( ?_{AT} A ) : q . C"></span>
</div>
</div>
</div>
</div>
<div class="rule-category">
<h3>Binary Rules</h3>
<div class="rules-grid">
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash \cdot\,{:} [ A ]"></span>
<span class="rule-formula" data-latex="\Delta \vdash \cdot\,{:} [ B ]"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\otimes_{R}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma , \Delta \vdash \cdot\,{:} [ A \otimes B ]"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash \cdot\,{:} [ A ]"></span>
<span class="rule-formula" data-latex="\Delta , \cdot\,{:} [ B ] \vdash \cdot\,{:} C"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\multimap_{L}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma , \Delta , \cdot\,{:} [ A \multimap B ] \vdash \cdot\,{:} C"></span>
</div>
</div>
<div class="inference-rule">
<div class="rule-premises">
<span class="rule-formula" data-latex="\Gamma \vdash \cdot\,{:} A"></span>
<span class="rule-formula" data-latex="\Gamma \vdash \cdot\,{:} B"></span>
</div>
<div class="rule-body"><div class="rule-line"></div><span class="rule-name" data-latex="\&_{R}"></span></div>
<div class="rule-conclusion">
<span class="rule-formula" data-latex="\Gamma \vdash \cdot\,{:} A \& B"></span>
</div>
</div>
</div>
</div>
</section>


  <script>
    // Render all LaTeX
    document.querySelectorAll('[data-latex]').forEach(el => {
      try {
        katex.render(el.dataset.latex, el, { displayMode: false, throwOnError: false });
      } catch (e) {
        el.textContent = el.dataset.latex;
      }
    });
    document.querySelectorAll('.latex-cell').forEach(el => {
      try {
        katex.render(el.dataset.latex, el, { displayMode: false, throwOnError: false });
      } catch (e) {
        el.textContent = el.dataset.latex;
      }
    });
  </script>
</body>
</html>
